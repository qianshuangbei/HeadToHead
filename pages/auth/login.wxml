<!-- pages/auth/login.wxml -->
<view class="login-prompt">
  <view class="login-icon">🎾</view>
  <text class="title">HeadToHead</text>
  <text class="subtitle"></text>
  <button class="login-btn" bindtap="handleLogin">微信登录</button>
</view>

<!-- 可加加载状态 -->
<view wx:if="{{checking}}" class="checking">正在检查账户...</view>

<!-- 登录后选择资料方式底部浮层 -->
<view class="choice-sheet" wx:if="{{showChoiceSheet}}">
  <view class="sheet-content">
    <view class="sheet-title">首次资料设置</view>
    <button type="primary" bindtap="handleChooseWechatProfile">使用微信头像与昵称</button>
    <button bindtap="handleChooseCustomProfile">自定义头像与昵称</button>
    <view wx:if="{{showCustomEditor}}" class="custom-editor">
      <view class="editor-row">
        <view class="avatar-box" bindtap="handlePickAvatar">
          <image wx:if="{{avatarTemp}}" src="{{avatarTemp}}" mode="aspectFill" class="avatar-img" />
          <view wx:else class="avatar-placeholder">选择头像</view>
        </view>
        <input class="nickname-input" placeholder="输入昵称" value="{{nicknameTemp}}" bindinput="handleCustomNicknameInput" />
      </view>
      <button type="primary" loading="{{savingCustom}}" bindtap="handleSaveCustomProfile">保存并进入</button>
    </view>
    <view class="hint">可选择微信资料或自定义，后续可在“我的”里修改。</view>
  </view>
</view>
